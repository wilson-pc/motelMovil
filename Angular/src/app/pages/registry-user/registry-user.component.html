

<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header">
        <h4 class="card-title"> {{titulo}}</h4>
        <!--Modal -->
     
        <ng-template #contentView let-modal>
          <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title">Perfil de usuario</h4>
            <button type="button" class="close" aria-label="Close" (click)="cancelModal()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>

          <div class="modal-body">
            <!--FORMULARIO DE USUARIO-->
            <div class="row">
              <div class="col-lg-9">
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h3 class="panel-title"></h3>
                  </div>
                  <div class="panel-body">
                    <div class="row">
                      <div class="col-md-3"> <img alt="User Pic" src="../../../assets/images/newicono.png"
                          class="img-circle img-responsive"> </div>

                      <div class=" col-md-9 col-lg-9 ">
                        <table class="table table-user-information">
                          <tbody>
                            <tr>
                              <td>Nombre(s):</td>
                              <td>{{usuarioViewData.nombre}}</td>
                            </tr>
                            <tr>
                              <td>Apellido(s)</td>
                              <td>{{usuarioViewData.apellidos}}</td>
                            </tr>
                            <tr>
                              <td>Fecha de creacion:</td>
                              <td>{{usuarioViewData.creacion.fecha}}</td>
                            </tr>

                            <tr>
                            <tr>
                              <td>Genero</td>
                              <td>{{usuarioViewData.genero}}</td>
                            </tr>
                            <tr>
                              <td>E-mail</td>
                              <td>{{usuarioViewData.email}}</td>
                            </tr>                     
                           
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-danger" (click)="cancelModal()">Cerrar</button>

          </div>
        </ng-template>
        <!--END MODAL-->
        <pre>{{closeResult}}</pre>
      </div>

      <!--MODAL ALERTA-->
      <!--Modal Eliminar-->
      <ng-template #contentDelete let-modal>
        <div class="modal-header">
          <h4 class="modal-title">Eliminar Usuario</h4>
          <button type="button" class="close" aria-label="Close" (click)="cancelModal()">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>¿Desea eliminar el registro?</p>
          <input type="text" [(ngModel)]="razonText" name="razonel" class="form-control input-md" placeholder="Ingrese razon de la elimnacion">
          <p *ngIf="messageBool==true" class="message-suspender">Usuario suspendido</p>
          <p *ngIf="isError==true" class="message-invalido">Ocurrio un error mientras se borraba el dato</p>
          <p *ngIf="isRequired==true" class="message-invalido">Ingreso invalido, Ingrese una razon valida</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-light" (click)="cancelModal()">Cancelar</button>
          <button type="button" class="btn btn-danger" (click)="delete()">Eliminar</button>
        </div>
      </ng-template>
      <!--Modal Reporte-->
      <ng-template #contentSuspend let-modal>
        <div class="modal-header">
          <h4 class="modal-title">Suspender Usuario</h4>
          <button type="button" class="close" aria-label="Close" (click)="cancelModal()">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>¿Desea suspender al usuario?</p>
          <input type="text" [(ngModel)]="razonText" name="razon" class="form-control input-md" placeholder="Ingrese razon de la suspension">
          <p *ngIf="messageBool==true" class="message-suspender">Usuario suspendido</p>
          <p *ngIf="isRequired==true" class="message-invalido">Ingreso invalido, Ingrese una razon valida</p>
        </div>        
        <div class="modal-footer">
          <button type="button" class="btn btn-light" (click)="cancelModal()">Cancelar</button>
          <button type="button" class="btn btn-warning" (click)="suspend()">Suspender</button>
        </div>
      </ng-template>

      
      <!--LISTA USUARIOS-->

      <div *ngIf="usuarios.length==0" class="loader"></div> 
      <div class="card-body">
        <div class="table-responsive">
          <!-- Datos de carga -->         

          <table *ngIf="usuarios.length!=0" class="table">
            <thead class=" text-primary">
              <th class="hedarTitleTable" *ngFor="let head of headElements">{{head}}</th>
              <th class="text-right hedarTitleTable">
                Eliminar
              </th>
            </thead>
            <tbody>
            
              <tr *ngFor="let user of usuarios, let i=index">
                <td>{{i+1}}</td>
                <td (click)="openModalView(contentView,user)">{{user.nombre}}</td>
                <td>{{user.apellidos}}</td>
                <td>{{user.genero}}</td>
                <td>{{user.email}}</td>
                <td>{{user.suspendido.duracion}}</td>
                <td class="text-right">
                  <i *ngIf="user.suspendido.estado != true" class='mdi mdi-arrow-down-bold-circle btn btn-warning' (click)="openModalSuspent(contentSuspend,user)"></i>
                  <i class='mdi mdi-delete btn btn-danger' (click)="openModalDelete(contentDelete,user)"></i>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>